# RG25

## Setting up
This code was developped with python 3.12.7

### Libraries
The following libraries are required to ensure that the code functions correctly. The written versions are those used during code development.

| Libraries    | Version | Documentation                                        |
|:-------------|:--------|:-----------------------------------------------------|
| geopandas    | v1.0.1  | https://geopandas.org/en/stable/docs.html            |
| matplotlib   | v3.10.0 | https://matplotlib.org/stable/index.html             |
| numpy        | v1.26.4 | https://numpy.org/doc/1.26/                          |
| rasterio     | v1.4.3  | https://rasterio.readthedocs.io/en/latest/index.html |
| shapely      | v2.0.6  | https://shapely.readthedocs.io/en/stable/manual.html |
| tqdm         | v4.67.1 | https://pypi.org/project/tqdm/                       |
| scikit-learn | v1.5.1  | https://scikit-learn.org/stable/index.html           |
| scikit-image | v0.25.0 | https://scikit-image.org/docs/stable/                |
| scipy        | v1.13.1 | https://docs.scipy.org/doc//scipy/index.html         |
| reportlab    | 3.6.13  | https://pypi.org/project/reportlab/                  |

### Exterior data required
To use correctly the code, you need to download some extra data from the [LROC website](https://wms.lroc.asu.edu/lroc/rdr_product_select?filter%5Btext%5D=rein&filter%5Blat%5D=&filter%5Blon%5D=&filter%5Brad%5D=&filter%5Bwest%5D=&filter%5Beast%5D=&filter%5Bsouth%5D=&filter%5Bnorth%5D=&filter%5Bprefix%5D%5B%5D=NAC_DTM&show_thumbs=0&per_page=10&commit=Search).

Here the ones you specifically need to download:

| Swirls zone    | Link                                                                                                            | README associated                                                                                                                    |
|:---------------|:----------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------|
| Reiner Gamma 2 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER2/NAC_DTM_REINER2.TIF | [README_RG2](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER2/NAC_DTM_REINER2_README.TXT) |
| Reiner Gamma 3 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER3/NAC_DTM_REINER3.TIF | [README_RG3](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER3/NAC_DTM_REINER3_README.TXT) |
| Reiner Gamma 4 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER4/NAC_DTM_REINER4.TIF | [README_RG4](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER4/NAC_DTM_REINER4_README.TXT) |
| Reiner Gamma 5 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER5/NAC_DTM_REINER5.TIF | [README_RG5](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER5/NAC_DTM_REINER5_README.TXT) |
| Reiner Gamma 6 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER6/NAC_DTM_REINER6.TIF | [README_RG6](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER6/NAC_DTM_REINER6_README.TXT) |
| Reiner Gamma 7 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER7/NAC_DTM_REINER7.TIF | [README_RG7](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER7/NAC_DTM_REINER7_README.TXT) |

Here is an example of this data organization:

```
ğŸ“ data
â””â”€â”€ğŸ“RG
    â”œâ”€â”€ğŸ’¾NAC_DTM_REINER2.tiff
    â”œâ”€â”€ğŸ’¾NAC_DTM_REINER3.tiff
    â”œâ”€â”€ğŸ’¾NAC_DTM_REINER4.tiff
    â”œâ”€â”€ğŸ’¾NAC_DTM_REINER5.tiff
    â”œâ”€â”€ğŸ’¾NAC_DTM_REINER6.tiff
    â””â”€â”€ğŸ’¾NAC_DTM_REINER7.tiff
ğŸ“ RG25 (This repository)
â”œâ”€â”€ ğŸ“ data
â”œâ”€â”€ ğŸ“ logo
â”œâ”€â”€ ğŸ“ results
â”œâ”€â”€ ğŸCircularity.py
â”œâ”€â”€ ğŸGraph_dtoD.py
â”œâ”€â”€ ğŸ“„README.md
â”œâ”€â”€ ğŸMaximum_search.py
â”œâ”€â”€ ğŸSlopes.py
â”œâ”€â”€ ğŸTRI.py
â”œâ”€â”€ ğŸTopographical_profiles.py
â””â”€â”€ ğŸmain.py
```

âš ï¸ If you adopt a different data organization structure, please change the paths in calculs_5m.py.

Each python file will be explained later in this README.

## Explanation of the folder structure and files in this repository

### Folders
This repository is organized following this structure:

```
ğŸ“ data -- This folder contains some of the data needed to launch python scripts  
â”œâ”€â”€ ğŸ“ Buffer_crateres -- This folder contains the crater buffers generated by the Yolov5 algorithm and ArcGIS  
â”‚	â”œâ”€â”€ ğŸ“ Buffer_RG2 -- Crater buffer RG2  
â”‚	â”œâ”€â”€ ğŸ“ ... 
â”‚	â””â”€â”€ ğŸ“ Buffer_RG7 -- Crater buffer RG7  
â”œâ”€â”€ ğŸ“ HIESINGER2011_MARE_AGE_UNITS_180 -- Contains Hiesinger soil dating shapefile and other files  
â”œâ”€â”€ ğŸ“ Swirl -- Contains swirl shapefiles  
â””â”€â”€ ğŸ“ Centers -- Contains centers shapefiles  

ğŸ“ results -- This folder contains all the results of the python scripts  
â””â”€â”€ ğŸ“ RG7 -- This folder contains results of RG7  
    â”œâ”€â”€ ğŸ“ crater_img -- This folder contains images of the DEM of the craters
    â”œâ”€â”€ ğŸ“ profils -- This folder contains the craters profiles of RG7  
    â”œâ”€â”€ ğŸ“ rapport -- This folder contains reports on the craters studied of RG7
    â””â”€â”€ ğŸ“ TRI -- This folder contains the TRI images of the craters of RG7  

```

### Python scripts
These are the python files of this repository and their function. You need to run the "main.py" file to compute your data.

| Pyhton files                |  Description |
|:----------------------------|:-------------|
| ğŸCircularity.py            | This script calculates the circularity of craters |
| ğŸGraph_dtoD.py             | This script generates graphs showing d/D versus diameter with uncertainties |
| ğŸMaximum_search.py         | This script finds the altitude maxima for each profile every 10Â° |
| ğŸSlopes.py                 | This script finds crater slopes |
| ğŸTRI.py                    | This script calculates the TRI index and saves it as an image |
| ğŸTopographical_profiles.py | This script draws profiles every 10Â° and the average crater profile |
| ğŸmain.py                   | This script is used to process the craters by calling the preceding scripts |
