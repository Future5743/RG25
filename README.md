# RG25

## Setting up

### Libraries
To ensure the code operation, you need ths following libraries. The written version are those use during the development of the code.
| Libraries | Version|
|:-----------|:--------|
| geopandas | v1.0.1 |
| matplotlib | v3.10.0 |
| numpy | v1.26.4 |
| rasterio | v1.4.3 |
| shapely | v2.0.6 |
| tqdm | v4.67.1 |
| scikit-learn | v1.5.1 |
| scikit-image | v0.25.0 |
| scipy | v1.13.1 |

### Exterior data required
To use correctly the code, you need to download some extra data from the [LROC website](https://wms.lroc.asu.edu/lroc/rdr_product_select?filter%5Btext%5D=rein&filter%5Blat%5D=&filter%5Blon%5D=&filter%5Brad%5D=&filter%5Bwest%5D=&filter%5Beast%5D=&filter%5Bsouth%5D=&filter%5Bnorth%5D=&filter%5Bprefix%5D%5B%5D=NAC_DTM&show_thumbs=0&per_page=10&commit=Search).

Here the one you specifically need to download :

| Swirls zone |  Link | README associated |
|:------------|:-------|:------------------|
| Reiner Gamma 1 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER1/NAC_DTM_REINER1.TIF | [README_RG1](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER1/NAC_DTM_REINER1_README.TXT) |
| Reiner Gamma 2 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER2/NAC_DTM_REINER2.TIF | [README_RG2](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER2/NAC_DTM_REINER2_README.TXT) |
| Reiner Gamma 3 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER3/NAC_DTM_REINER3.TIF | [README_RG3](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER3/NAC_DTM_REINER3_README.TXT) |
| Reiner Gamma 4 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER4/NAC_DTM_REINER4.TIF | [README_RG4](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER4/NAC_DTM_REINER4_README.TXT) |
| Reiner Gamma 5 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER5/NAC_DTM_REINER5.TIF | [README_RG5](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER5/NAC_DTM_REINER5_README.TXT) |
| Reiner Gamma 6 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER6/NAC_DTM_REINER6.TIF | [README_RG6](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER6/NAC_DTM_REINER6_README.TXT) |
| Reiner Gamma 7 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER7/NAC_DTM_REINER7.TIF | [README_RG7](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER7/NAC_DTM_REINER7_README.TXT) |

Here is an example of this data organization.

ğŸ“ data\
â””â”€â”€ğŸ“RG
â”‚   â”œâ”€â”€ğŸ’¾NAC_DTM_REINER1.tiff\
â”‚   â”œâ”€â”€ğŸ’¾NAC_DTM_REINER2.tiff\
â”‚   â”œâ”€â”€ğŸ’¾NAC_DTM_REINER3.tiff\
â”‚   â”œâ”€â”€ğŸ’¾NAC_DTM_REINER4.tiff\
â”‚   â”œâ”€â”€ğŸ’¾NAC_DTM_REINER5.tiff\
â”‚   â”œâ”€â”€ğŸ’¾NAC_DTM_REINER6.tiff\
â”‚   â””â”€â”€ğŸ’¾NAC_DTM_REINER7.tiff\
ğŸ“ RG25 (This repository)\
â”œâ”€â”€ ğŸ“ data\
â”œâ”€â”€ ğŸ“ results\
â”œâ”€â”€ ğŸCircularity.py\
â”œâ”€â”€ ğŸGraph_dtoD.py\
â”œâ”€â”€ ğŸ“„README.md\
â”œâ”€â”€ ğŸMaximum_search.py\
â”œâ”€â”€ ğŸSlopes.py\
â”œâ”€â”€ ğŸTRI.py\
â”œâ”€â”€ ğŸTopographical_profiles.py\
â””â”€â”€ ğŸcalculs_5m.py

âš ï¸ If you adopt a different data organization structure, please change the paths in calculs_5m.py.

Each python file will be explained later in this README.

## Explanation of the folder structure and files in this repository

### Folders
ğŸ“ data -- This folder contains some of the data needed to launch python scripts  
â”œâ”€â”€ ğŸ“ Buffer_crateres -- This folder contains the crater buffers generated by the Yolov5 algorithm and ArcGIS  
â”‚   â”œâ”€â”€ ğŸ“ Buffer_RG2 -- Crater buffer RG2  
â”‚   â””â”€â”€ ğŸ“ Buffer_RG7 -- Crater buffer RG7  
â”œâ”€â”€ ğŸ“ HIESINGER2011_MARE_AGE_UNITS_180 -- Contains Hiesinger soil dating shapefile and other files  
â”œâ”€â”€ ğŸ“ Swirl -- Contains swirl shapefiles  
â””â”€â”€ ğŸ“ Centers -- Contains centers shapefiles  

ğŸ“ results -- This folder contains all the results of the python scripts  
â”œâ”€â”€ ğŸ“ RG2 -- This folder contains the results of RG2  
â”‚   â”œâ”€â”€ ğŸ“ profils -- This folder contains the craters profiles of RG2  
â”‚   â”‚   â”œâ”€â”€ ğŸ“ on-swirl -- This folder contains the profiles of the crater in the on-swirl zone  
â”‚   â”‚   â””â”€â”€ ğŸ“ off-swirl -- This folder contains the profiles of the crater in the off-swirl zone  
â”‚   â”‚       â””â”€â”€ ğŸ“ id -- This folder contains the profiles of the crater of a specific id  
â”‚   â””â”€â”€ ğŸ“ TRI -- This folder contains the TRI images of the craters of RG2  
â”œâ”€â”€ ğŸ“ RG7 -- This folder contains results of RG7  
â”‚   â”œâ”€â”€ ğŸ“ profils -- This folder contains the craters profiles of RG7  
â”‚   â””â”€â”€ ğŸ“ TRI -- This folder contains the TRI images of the craters of RG7  


### Python scripts
ğŸ Circularity.py -- This script calculates the circularity of craters\
ğŸGraph_dtoD.py -- This script generates graphs showing d/D versus diameter with uncertainties\
ğŸMaximum_search.py -- This script finds the altitude maxima for each profile every 10Â°\
ğŸSlopes.py -- This script finds crater slopes\
ğŸTRI.py -- This script calculates the TRI index and saves it as an image\
ğŸTopographical_profiles.py -- This script draws profiles every 10Â° and the average crater profile\
ğŸcalculs_5m.py -- This script is used to process the craters by calling the preceding scripts