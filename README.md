# RG25

## Setting up
This code was developped with python 3.12.7

### Libraries
The following libraries are required to ensure that the code functions correctly. The written versions are those used during code development.

| Libraries    | Version | Documentation                                        |
|:-------------|:--------|:-----------------------------------------------------|
| geopandas    | v1.0.1  | https://geopandas.org/en/stable/docs.html            |
| matplotlib   | v3.10.0 | https://matplotlib.org/stable/index.html             |
| numpy        | v1.26.4 | https://numpy.org/doc/1.26/                          |
| rasterio     | v1.4.3  | https://rasterio.readthedocs.io/en/latest/index.html |
| shapely      | v2.0.6  | https://shapely.readthedocs.io/en/stable/manual.html |
| tqdm         | v4.67.1 | https://pypi.org/project/tqdm/                       |
| scikit-learn | v1.5.1  | https://scikit-learn.org/stable/index.html           |
| scikit-image | v0.25.0 | https://scikit-image.org/docs/stable/                |
| scipy        | v1.13.1 | https://docs.scipy.org/doc//scipy/index.html         |
| reportlab    | 3.6.13  | https://pypi.org/project/reportlab/                  |

### Exterior data required
To use correctly the code, you need to download some extra data from the [LROC website](https://wms.lroc.asu.edu/lroc/rdr_product_select?filter%5Btext%5D=rein&filter%5Blat%5D=&filter%5Blon%5D=&filter%5Brad%5D=&filter%5Bwest%5D=&filter%5Beast%5D=&filter%5Bsouth%5D=&filter%5Bnorth%5D=&filter%5Bprefix%5D%5B%5D=NAC_DTM&show_thumbs=0&per_page=10&commit=Search).

Here the ones you specifically need to download:

| Swirls zone    | Link                                                                                                            | README associated                                                                                                                    |
|:---------------|:----------------------------------------------------------------------------------------------------------------|:-------------------------------------------------------------------------------------------------------------------------------------|
| Reiner Gamma 2 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER2/NAC_DTM_REINER2.TIF | [README_RG2](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER2/NAC_DTM_REINER2_README.TXT) |
| Reiner Gamma 3 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER3/NAC_DTM_REINER3.TIF | [README_RG3](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER3/NAC_DTM_REINER3_README.TXT) |
| Reiner Gamma 4 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER4/NAC_DTM_REINER4.TIF | [README_RG4](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER4/NAC_DTM_REINER4_README.TXT) |
| Reiner Gamma 5 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER5/NAC_DTM_REINER5.TIF | [README_RG5](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER5/NAC_DTM_REINER5_README.TXT) |
| Reiner Gamma 6 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER6/NAC_DTM_REINER6.TIF | [README_RG6](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER6/NAC_DTM_REINER6_README.TXT) |
| Reiner Gamma 7 | https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER7/NAC_DTM_REINER7.TIF | [README_RG7](https://pds.lroc.im-ldi.com/data/LRO-L-LROC-5-RDR-V1.0/LROLRC_2001/DATA/SDP/NAC_DTM/REINER7/NAC_DTM_REINER7_README.TXT) |

Here is an example of this data organization:

```
📁 data
└──📁RG
    ├──💾NAC_DTM_REINER2.tiff
    ├──💾NAC_DTM_REINER3.tiff
    ├──💾NAC_DTM_REINER4.tiff
    ├──💾NAC_DTM_REINER5.tiff
    ├──💾NAC_DTM_REINER6.tiff
    └──💾NAC_DTM_REINER7.tiff
📁 RG25 (This repository)
├── 📁 data
├── 📁 logo
├── 📁 results
├── 🐍Circularity.py
├── 🐍Graph_dtoD.py
├── 📄README.md
├── 🐍Maximum_search.py
├── 🐍Slopes.py
├── 🐍TRI.py
├── 🐍Topographical_profiles.py
└── 🐍main.py
```

⚠️ If you adopt a different data organization structure, please change the paths in calculs_5m.py.

Each python file will be explained later in this README.

## Explanation of the folder structure and files in this repository

### Folders
This repository is organized following this structure:

```
📁 data -- This folder contains some of the data needed to launch python scripts  
├── 📁 Buffer_crateres -- This folder contains the crater buffers generated by the Yolov5 algorithm and ArcGIS  
│	├── 📁 Buffer_RG2 -- Crater buffer RG2  
│	├── 📁 ... 
│	└── 📁 Buffer_RG7 -- Crater buffer RG7  
├── 📁 HIESINGER2011_MARE_AGE_UNITS_180 -- Contains Hiesinger soil dating shapefile and other files  
├── 📁 Swirl -- Contains swirl shapefiles  
└── 📁 Centers -- Contains centers shapefiles  

📁 results -- This folder contains all the results of the python scripts  
└── 📁 RG7 -- This folder contains results of RG7  
    ├── 📁 crater_img -- This folder contains images of the DEM of the craters
    ├── 📁 profils -- This folder contains the craters profiles of RG7  
    ├── 📁 rapport -- This folder contains reports on the craters studied of RG7
    └── 📁 TRI -- This folder contains the TRI images of the craters of RG7  

```

### Python scripts
These are the python files of this repository and their function. You need to run the "main.py" file to compute your data.

| Pyhton files                |  Description |
|:----------------------------|:-------------|
| 🐍Circularity.py            | This script calculates the circularity of craters |
| 🐍Graph_dtoD.py             | This script generates graphs showing d/D versus diameter with uncertainties |
| 🐍Maximum_search.py         | This script finds the altitude maxima for each profile every 10° |
| 🐍Slopes.py                 | This script finds crater slopes |
| 🐍TRI.py                    | This script calculates the TRI index and saves it as an image |
| 🐍Topographical_profiles.py | This script draws profiles every 10° and the average crater profile |
| 🐍main.py                   | This script is used to process the craters by calling the preceding scripts |
